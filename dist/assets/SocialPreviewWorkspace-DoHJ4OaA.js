import{d as g,j as e,n,b as u}from"./index-BfYDDugh.js";import{u as b}from"./editor-store-ymaKqkgs.js";import{R as j}from"./refresh-cw-CLBNPLXA.js";const N={title:"",description:"",image:"",siteName:"",url:"",author:"",publishDate:""},p=g(t=>({ogMeta:N,activePlatform:"all",setOGMeta:s=>t(r=>({ogMeta:{...r.ogMeta,...s}})),setActivePlatform:s=>t({activePlatform:s}),deriveFromEditor:(s,r)=>{var h;const c=document.createElement("div");c.innerHTML=r;const l=c.querySelector("p"),d=((h=l==null?void 0:l.textContent)==null?void 0:h.slice(0,200))||"",a=c.querySelector("img"),i=(a==null?void 0:a.getAttribute("src"))||"";t(x=>({ogMeta:{...x.ogMeta,title:s||x.ogMeta.title,description:d||x.ogMeta.description,image:i||x.ogMeta.image}}))}}));function f(){const{ogMeta:t,setOGMeta:s}=p();return e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{label:"Title",value:t.title,onChange:r=>s({title:r}),placeholder:"Newsletter title",maxLength:70}),e.jsx(o,{label:"Description",value:t.description,onChange:r=>s({description:r}),placeholder:"Brief description of your newsletter",maxLength:200,multiline:!0}),e.jsx(o,{label:"Image URL",value:t.image,onChange:r=>s({image:r}),placeholder:"https://..."}),e.jsx(o,{label:"Site Name",value:t.siteName,onChange:r=>s({siteName:r}),placeholder:"Your Newsletter"}),e.jsx(o,{label:"Author",value:t.author,onChange:r=>s({author:r}),placeholder:"Author name"}),e.jsx(o,{label:"URL",value:t.url,onChange:r=>s({url:r}),placeholder:"https://yournewsletter.com/post-slug"}),e.jsx("div",{className:"pt-2 border-t border-border",children:e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Title: ",t.title.length,"/70 路 Desc: ",t.description.length,"/200"]})})]})}function o({label:t,value:s,onChange:r,placeholder:c,maxLength:l,multiline:d}){const a=d?"textarea":"input";return e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-medium text-muted-foreground mb-1 block",children:t}),e.jsx(a,{value:s,onChange:i=>r(i.target.value),placeholder:c,maxLength:l,rows:d?3:void 0,className:"w-full rounded-md border border-border bg-background px-2.5 py-1.5 text-xs text-foreground placeholder:text-muted-foreground/50 outline-none focus:ring-1 focus:ring-ring resize-none"})]})}function m({platform:t,label:s,children:r}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:s})}),e.jsx("div",{className:"bg-card rounded-xl border border-border p-5 flex justify-center",children:r})]})}function v({meta:t}){return e.jsx(m,{platform:"twitter",label:"Twitter / X",children:e.jsx("div",{className:"w-full max-w-[504px]",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-600 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[e.jsx("span",{className:"text-[15px] font-bold text-white",children:t.author||"Newsletter Author"}),e.jsx("svg",{className:"w-[18px] h-[18px] text-blue-400",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.27 4.8-5.23 1.47 1.36-6.2 6.76z"})}),e.jsxs("span",{className:"text-[15px] text-gray-500",children:["@",t.siteName||"newsletter"," 路 2h"]})]}),e.jsx("p",{className:"text-[15px] text-white mb-3 leading-5",children:t.description?n(t.description,280):"Check out our latest newsletter!"}),e.jsxs("div",{className:"rounded-2xl border border-gray-700 overflow-hidden bg-black",children:[t.image?e.jsx("div",{className:"aspect-[1.91/1] bg-gray-800 overflow-hidden",children:e.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover",onError:s=>{s.target.style.display="none"}})}):e.jsx("div",{className:"aspect-[1.91/1] bg-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-sm",children:"No image set"})}),e.jsxs("div",{className:"px-3 py-2.5",children:[e.jsx("p",{className:"text-[13px] text-gray-500 mb-0.5",children:t.url?new URL(t.url).hostname.replace("www.",""):"newsletter.com"}),e.jsx("p",{className:"text-[15px] text-white font-normal leading-5",children:n(t.title||"Newsletter Title",70)}),e.jsx("p",{className:"text-[13px] text-gray-500 leading-4 mt-0.5",children:n(t.description||"",100)})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 max-w-[400px] text-gray-500",children:[e.jsx("span",{className:"text-[13px]",children:""}),e.jsx("span",{className:"text-[13px]",children:""}),e.jsx("span",{className:"text-[13px]",children:"わ"}),e.jsx("span",{className:"text-[13px]",children:""}),e.jsx("span",{className:"text-[13px]",children:"锔"})]})]})]})})})}function w({meta:t}){return e.jsx(m,{platform:"linkedin",label:"LinkedIn",children:e.jsxs("div",{className:"w-full max-w-[504px] bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-2.5 p-3 pb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.author||"Newsletter Author"}),e.jsx("p",{className:"text-xs text-gray-500 leading-tight",children:"Newsletter Creator 路 2nd"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2h 路 "})]})]}),e.jsx("div",{className:"px-3 pb-2",children:e.jsx("p",{className:"text-sm text-gray-900 leading-5",children:t.description?n(t.description,300):"Excited to share our latest newsletter! Check it out "})}),e.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[t.image?e.jsx("div",{className:"aspect-[1.91/1] bg-gray-200 overflow-hidden",children:e.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover",onError:s=>{s.target.style.display="none"}})}):e.jsx("div",{className:"aspect-[1.91/1] bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm",children:"No image set"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:t.url?new URL(t.url).hostname.replace("www.",""):"newsletter.com"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 leading-5",children:n(t.title||"Newsletter Title",100)})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-xs text-gray-500",children:" Like"}),e.jsx("span",{className:"text-xs text-gray-500",children:" Comment"}),e.jsx("span",{className:"text-xs text-gray-500",children:" Repost"}),e.jsx("span",{className:"text-xs text-gray-500",children:" Send"})]})]})})}function y({meta:t}){return e.jsx(m,{platform:"facebook",label:"Facebook",children:e.jsxs("div",{className:"w-full max-w-[504px] bg-[#242526] rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-start gap-2.5 p-3 pb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-600 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[15px] font-semibold text-[#e4e6eb]",children:t.author||"Newsletter Author"}),e.jsx("p",{className:"text-[13px] text-[#b0b3b8]",children:"2h 路 "})]})]}),e.jsx("div",{className:"px-3 pb-2",children:e.jsx("p",{className:"text-[15px] text-[#e4e6eb] leading-5",children:t.description?n(t.description,300):"Check out our latest newsletter!"})}),e.jsxs("div",{className:"bg-[#3a3b3c]",children:[t.image?e.jsx("div",{className:"aspect-[1.91/1] bg-[#3a3b3c] overflow-hidden",children:e.jsx("img",{src:t.image,alt:"",className:"w-full h-full object-cover",onError:s=>{s.target.style.display="none"}})}):e.jsx("div",{className:"aspect-[1.91/1] bg-[#3a3b3c] flex items-center justify-center",children:e.jsx("span",{className:"text-[#b0b3b8] text-sm",children:"No image set"})}),e.jsxs("div",{className:"px-3 py-2.5",children:[e.jsx("p",{className:"text-[13px] text-[#b0b3b8] uppercase tracking-wide mb-0.5",children:t.url?new URL(t.url).hostname.replace("www.",""):"NEWSLETTER.COM"}),e.jsx("p",{className:"text-[17px] font-semibold text-[#e4e6eb] leading-5",children:n(t.title||"Newsletter Title",80)}),t.description&&e.jsx("p",{className:"text-[14px] text-[#b0b3b8] leading-4 mt-1",children:n(t.description,120)})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5",children:[e.jsx("span",{className:"text-[15px] text-[#b0b3b8]",children:" Like"}),e.jsx("span",{className:"text-[15px] text-[#b0b3b8]",children:" Comment"}),e.jsx("span",{className:"text-[15px] text-[#b0b3b8]",children:"锔 Share"})]})]})})}function k({meta:t,content:s}){return e.jsx(m,{platform:"email",label:"Email Client",children:e.jsxs("div",{className:"w-full max-w-[600px] bg-white rounded-lg overflow-hidden shadow-md",children:[e.jsxs("div",{className:"bg-gray-100 p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-400 flex items-center justify-center text-white text-xs font-bold",children:(t.author||t.siteName||"N")[0].toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.author||t.siteName||"Newsletter Author"}),e.jsx("p",{className:"text-xs text-gray-500",children:"to me"})]})]}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.title||"Newsletter Subject Line"})]}),e.jsx("div",{className:"p-6 text-gray-800 text-sm leading-relaxed max-h-[400px] overflow-y-auto",children:s?e.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):e.jsx("p",{className:"text-gray-400 italic",children:"Write something in the editor to preview it here..."})}),e.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50",children:e.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["You're receiving this because you subscribed to"," ",t.siteName||"this newsletter","."]})})]})})}const C=[{id:"all",label:"All"},{id:"twitter",label:"Twitter/X"},{id:"linkedin",label:"LinkedIn"},{id:"facebook",label:"Facebook"},{id:"email",label:"Email"}];function E(){const{ogMeta:t,activePlatform:s,setActivePlatform:r,deriveFromEditor:c}=p(),{currentDocument:l}=b(),d=()=>{c(l.title,l.htmlContent)},a=i=>s==="all"||s===i;return e.jsxs("div",{className:"h-full flex",children:[e.jsx("div",{className:"w-72 border-r border-border bg-card/50 shrink-0 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-sm font-semibold text-foreground",children:"Meta Tags"}),e.jsxs("button",{onClick:d,className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",title:"Sync from editor",children:[e.jsx(j,{className:"w-3 h-3"}),"Sync"]})]}),e.jsx(f,{})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b border-border px-6 py-2 flex items-center gap-1",children:C.map(i=>e.jsx("button",{onClick:()=>r(i.id),className:u("px-3 py-1.5 rounded-md text-xs font-medium transition-colors",s===i.id?"bg-primary/15 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:i.label},i.id))}),e.jsx("div",{className:"p-6 space-y-6",children:!t.title&&!l.title?e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-muted-foreground text-sm",children:`Write something in the editor, then click "Sync" to preview how it'll look on social platforms.`})}):e.jsxs(e.Fragment,{children:[a("twitter")&&e.jsx(v,{meta:t}),a("linkedin")&&e.jsx(w,{meta:t}),a("facebook")&&e.jsx(y,{meta:t}),a("email")&&e.jsx(k,{meta:t,content:l.htmlContent})]})})]})]})}export{E as default};
